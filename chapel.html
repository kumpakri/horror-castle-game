<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./sounds.js"></script>
<script type="text/javascript" src="./show_keys.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan022.jpg" height="100%" usemap="#image-map">

<img class="overlay-img" data-left="-0.98" data-top="0.0" src="img/ScanKeyBlue.jpg" id="blue-key">
<img class="overlay-img" data-left="0.06" data-top="-0.12" src="img/ScanKeyGreen.jpg" id="green-key">
<img class="overlay-img" data-left="0.06" data-top="-0.12" src="img/ScanKeyPurple.jpg" id="purple-key">
<img class="overlay-img" data-left="0.06" data-top="-0.12" src="img/ScanKeyOrange.jpg" id="orange-key">

<map name="image-map">
  <area id="go-back" target="" alt="go-back" title="" href="" coords="501,1788,2336,2066" shape="rect">
  <area id="chest" target="" alt="chest" title="" href="" coords="925,937,1581,1332" shape="rect">
</map>

<script>
    $('map').imageMapResize();
</script>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        silenceSound.play();
        fireSound.play();
        
        const goBack = document.querySelector("#go-back");
        const chest = document.querySelector("#chest");
        
        goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            openDoorSound.play();
            setTimeout(() => {  window.location.replace('backyard.html'); }, 3000);
        });
        chest.addEventListener("click", (e) => {
            console.log("chest clicked!");
            e.preventDefault();
            if(localStorage.getItem('chapelChestVisited') == "true"){
                doorSlapSound.play();
            } else {
                boxSound.play();
                setTimeout(() => {  window.location.replace('chapel_chest.html'); }, 3000);
            }
        });
    });
</script>
