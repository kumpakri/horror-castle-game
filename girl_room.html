<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./sounds.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan009.jpg" width="100%" usemap="#image-map">

<map name="image-map">
  <area id="go-back" target="" alt="go-back" title="" href="" coords="389,1811,2544,2142" shape="rect">
  <area id="closet" target="" alt="closet" title="" href="" coords="170,544,756,955" shape="rect">
  <area id="carpet" target="" alt="carpet" title="" href="" coords="975,1249,1545,1603" shape="rect">
  <area id="sitting-bat" target="" alt="sitting-bat" title="" href="" coords="1191,669,1284,820" shape="rect">
</map>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
      $('map').imageMapResize();

      silenceSound.play();
      musicboxSound.play();

      if(localStorage.getItem("doorSlam") == "true"){
        doorSlamSound.play();
        localStorage.setItem('doorSlam', 'false')
      }
      
      const goBack = document.querySelector("#go-back");
      const closet = document.querySelector("#closet");
      const carpet = document.querySelector("#carpet");
      const sittingBat = document.querySelector("#sitting-bat");

      goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            closeDoorSound.play();
            setTimeout(() => {  window.location.replace('upstairs.html'); }, 2000);
        });
      closet.addEventListener("click", (e) => {
            console.log("closet clicked!");
            e.preventDefault();
            if(localStorage.getItem("girlVisited") == "true"){
              doorSlapSound.play();
            } else {
              slideDoorSound.play();
              setTimeout(() => {  window.location.replace('girl_in_the_closet.html'); }, 3000);
            }
        });
      carpet.addEventListener("click", (e) => {
            console.log("carpet clicked!");
            e.preventDefault();
            if(localStorage.getItem("carpetVisited") == "true"){
              carpetStompSound.play();
            } else {
              carpetSound.play();
              setTimeout(() => {  window.location.replace('box_in_the_floor.html'); }, 3000);
            }
        });
      sittingBat.addEventListener("click", (e) => {
            console.log("sittingBat clicked!");
            e.preventDefault();
            batSqueakSound.play();
        });
    });
</script>
