<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./sounds.js"></script>
<script type="text/javascript" src="./show_keys.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan019.jpg" height="100%" usemap="#image-map">

<map name="image-map">
  <area id="go-back" target="" alt="go-back" title="" href="" coords="1046,1682,2248,2084" shape="rect">
  <area id="basket" target="" alt="basket" title="" href="" coords="212,1256,552,1562" shape="rect">
  <area id="basement-window" target="" alt="basement-window" title="" href="" coords="451,42,945,265" shape="rect">
  <area id="guillotine" target="" alt="guillotine" title="" href="" coords="2276,585,2651,1466" shape="rect">
</map>

<script>
    $('map').imageMapResize();
</script>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        silenceSound.play();
        
        const goBack = document.querySelector("#go-back");
        const basket = document.querySelector("#basket");
        const basementWindow = document.querySelector("#basement-window");
        const guillotine = document.querySelector("#guillotine");

        goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            doorShutSound.play();
            setTimeout(() => {  window.location.replace('basement_end.html'); }, 2000);
        });
        basket.addEventListener("click", (e) => {
            console.log("basket clicked!");
            e.preventDefault();
            if(localStorage.getItem('purpleKey') == "true") 
            {
                basketSound.play();
                setTimeout(() => {  window.location.replace('basket_empty.html'); }, 5000);
            } else {
                basketSound.play();
                setTimeout(() => {  window.location.replace('basket.html'); }, 5000);
            }
        });
        basementWindow.addEventListener("click", (e) => {
            console.log("basementWindow clicked!");
            e.preventDefault();
            if(localStorage.getItem('blueKey') == "true") {
                openDoorSound.play();
                setTimeout(() => {  window.location.replace('roof.html'); }, 4000);
            } else {
                padlockSound.play();
            }
        });
        guillotine.addEventListener("click", (e) => {
            console.log("guillotine clicked!");
            e.preventDefault();
            guillotineSound.play();
        });
    });
</script>
