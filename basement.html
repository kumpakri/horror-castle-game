<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./sounds.js"></script>
<script type="text/javascript" src="./show_keys.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan015.jpg" height="100%" usemap="#image-map"><map name="image-map">
  <area id="go-back" target="" alt="go-back" title="" href="" coords="323,1583,2446,2071" shape="rect">
  <area id="first-door" target="" alt="first-door" title="" href="" coords="9,540,4,210,160,8,276,21,764,711,453,1168" shape="poly">
  <area id="second-door" target="" alt="second-door" title="" href="" coords="1743,140,1891,8,2046,3,2130,93,1854,324" shape="poly">
  <area id="hall-end" target="" alt="hall-end" title="" href="" coords="1182,3,1738,278" shape="rect">
</map>

<script>
    $('map').imageMapResize();
</script>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {        basementSound.play();        // random noises
        var i = Math.random();
        if(i > 0.7) {
            evilLaughSound.play();
        }        const goBack = document.querySelector("#go-back");
        const firstDoor = document.querySelector("#first-door");
        const secondDoor = document.querySelector("#second-door");
        const hallEnd = document.querySelector("#hall-end");        goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            basementStairsSound.play();
            setTimeout(() => {  window.location.replace('pantry.html'); }, 6000);
        });
        firstDoor.addEventListener("click", (e) => {
            console.log("firstDoor clicked!");
            e.preventDefault();
            echoStepsSound.play();
            setTimeout(() => {  window.location.replace('first_basement_room.html'); }, 4000);
        });
        secondDoor.addEventListener("click", (e) => {
            console.log("secondDoor clicked!");
            e.preventDefault();
            echoStepsSound.play();
            if(localStorage.getItem('blueKey') == "true"){
                setTimeout(() => {  window.location.replace('second_basement_room_empty.html'); }, 4000);
            } else {
                setTimeout(() => {  window.location.replace('second_basement_room.html'); }, 4000);
            }
        });
        hallEnd.addEventListener("click", (e) => {
            console.log("hallEnd clicked!");
            e.preventDefault();
            echoStepsSound.play();
            setTimeout(() => {  window.location.replace('basement_end.html'); }, 4000);
        });
    });
</script>
