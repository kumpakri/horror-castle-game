<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./resize_map.js"></script>
<script type="text/javascript" src="./sounds.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan005.jpg" width="100%"  usemap="#image-map">

<map name="image-map">
    <area id="go-back" target="" alt="go-back" title="" href="" coords="28,3535,6993,4913" shape="rect">
    <area id="heart-door" target="" alt="heart-door" title="" href="" coords="219,56,1406,2243" shape="rect">
    <area id="cross-door" target="" alt="cross-door" title="" href="" coords="2049,80,3038,1971" shape="rect">
    <area id="lizard-door" target="" alt="lizard-door" title="" href="" coords="3996,62,4947,1904" shape="rect">
    <area id="girl-door" target="" alt="girl-door" title="" href="" coords="5330,56,6387,1817" shape="rect">
</map>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        if(localStorage.getItem("doorSlam") == "true"){
            doorSlamSound.play();
            localStorage.setItem("doorSlam", "false")
        }

        roomSound.play();

        // random noises
        var i = Math.random();
        if(i < 0.1) {
            laughSound.play();
        }
        if(i >= 0.1 & i < 0.2) {
            childSound.play();
        }
        if(i >= 0.2 & i < 0.3) {
            hummSound.play();
        }
        if(i >= 0.3 & i < 0.4) {
            songSound.play();
        }

        const goBack = document.querySelector("#go-back");
        const heartDoor = document.querySelector("#heart-door");
        const crossDoor = document.querySelector("#cross-door");
        const lizardDoor = document.querySelector("#lizard-door");
        const girlDoor = document.querySelector("#girl-door");

        goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            stairsSound.play();
            setTimeout(() => {  window.location.replace('stairshall.html'); }, 3000);
        });
        heartDoor.addEventListener("click", (e) => {
            console.log("heartDoor clicked!");
            e.preventDefault();
            if(localStorage.getItem("womanVisited") == "false"){
                knockAndOpenDoorSound.play();
                setTimeout(() => {  window.location.replace('heart_room.html'); }, 8000);
            } else {
                doorlockedSound.play();
            }
        });
        crossDoor.addEventListener("click", (e) => {
            console.log("crossDoor clicked!");
            e.preventDefault();
            if(localStorage.getItem('orangeKey') == "true"){
                unlockingDoorSound.play();
                setTimeout(() => {  slideDoorSound.play(); }, 3000);
                setTimeout(() => {  window.location.replace('cross_room.html'); }, 6000);
            } else {
                doorSlapSound.play();
            }
        });
        lizardDoor.addEventListener("click", (e) => {
            console.log("lizardDoor clicked!");
            e.preventDefault();
            knockAndOpenDoorSound.play();
            setTimeout(() => {  window.location.replace('lizard_room.html'); }, 8000);
        });
        girlDoor.addEventListener("click", (e) => {
            console.log("girlDoor clicked!");
            e.preventDefault();
            knockAndOpenDoorSound.play();
            setTimeout(() => {  window.location.replace('girl_room.html'); }, 8000); 
        });
    });
</script>