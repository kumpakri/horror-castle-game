<link rel="stylesheet" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="./image-map-resizer/js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./howler/dist/howler.js"></script>
<script type="text/javascript" src="./script.js"></script>

<!-- Image Map Generated by http://www.image-map.net/ -->
<img src="img/Scan013.jpg" width="100%" usemap="#image-map">

<map name="image-map">
    <area id="go-back" target="" alt="go-back" title="" href="" coords="114,4513,3501,5082" shape="rect">
    <area id="door" target="" alt="door" title="" href="" coords="1567,396,2920,1626" shape="rect">
    <area id="body" target="" alt="body" title="" href="" coords="4187,2658,4335,2801,4478,2745,4558,2869,4991,2547,5170,2207,4972,2015" shape="poly">
</map>

 

<script>
    var roomSound = new Howl({
      src: ['sound/horror-ambience.flac'],
      loop: true,
      volume: 0.5
    });
    var stepsSound = new Howl({
      src: ['sound/stone_steps.mp3'],
      loop: false,
      volume: 0.5
    });
    var touchSound = new Howl({
      src: ['sound/poke1.wav'],
      loop: false,
      volume: 1.0
    });
    var lockedDoorSound = new Howl({
      src: ['sound/door-locked.wav'],
      loop: false,
      volume: 1.0
    });
    var openDoorSound = new Howl({
      src: ['sound/small_door_open.wav'],
      loop: false,
      volume: 1.0
    });
</script>

<script type="text/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        roomSound.play();

        const goBack = document.querySelector("#go-back");
        const door = document.querySelector("#door");
        const body = document.querySelector("#body");

        goBack.addEventListener("click", (e) => {
            console.log("goBack clicked!");
            e.preventDefault();
            stepsSound.play();
            setTimeout(() => {  window.location.replace('entryhall.html'); }, 3000);
        });

        door.addEventListener("click", (e) => {
            console.log("door clicked!");
            e.preventDefault();
            if(localStorage.getItem('purpleKey') == "true"){
                console.log("purple key collected!");
                openDoorSound.play();
                //setTimeout(() => {  window.location.replace('backyard.html'); }, 1000);
            } else {
                console.log("purple key missing!");
                lockedDoorSound.play();
            }
        });

        body.addEventListener("click", (e) => {
            console.log("body clicked!");
            e.preventDefault();
            touchSound.play();
        });
    });
</script>